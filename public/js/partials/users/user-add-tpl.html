<div class="container-fluid">
  <div class="row">
    <div class="col-lg-12">
      <div class="col-lg-7 col-centered">
        <div class="well">

          <form
            novalidate
            name="newUser"
            class="form-horizontal new-user"
            ng-submit="addUser(newUser.$valid)">
            <fieldset>

              <legend>Add User</legend>

              <div class="form-group">

                <cdgd-textfield field="user.firstName" label="First Name"></cdgd-textfield>

                <div ng-messages="newUser.firstName.$error" ng-show="newUser.$submitted" class="admin-alerts pull-right col-lg-9">
                  <div class="message" ng-message="required"><alert type="danger">Please enter a first name</alert></div>
                </div>

              </div>

              <div class="form-group">

                <cdgd-textfield field="user.lastName" label="Last Name"></cdgd-textfield>

                <div ng-messages="newUser.lastName.$error" ng-show="newUser.$submitted" class="admin-alerts pull-right col-lg-9">
                  <div class="message" ng-message="required"><alert type="danger">Please enter a last name</alert></div>
                </div>

              </div>

              <div class="form-group">

                <cdgd-textfield field="user.userName" label="Username" validators="['username-unique-validator']"></cdgd-textfield>

                <div ng-messages="newUser.userName.$error" ng-show="newUser.$submitted" class="admin-alerts pull-right col-lg-9">
                  <div class="message" ng-message="required"><alert type="danger">Please enter a username</alert></div>
                  <div class="message" ng-message="userExists"><alert type="danger">The username already exists</alert></div>
                </div>

              </div>

              <div class="form-group">

                <cdgd-textfield field="user.password1" label="Password" type="password"></cdgd-textfield>

                <label for="password1" class="col-lg-3 control-label">Password</label>
                <div class="user-field col-lg-9">
                  <input
                    type="password"
                    class="form-control input-sm"
                    id="password1"
                    name="password1"
                    ng-model="user.password1"
                    ng-required="true"
                    ng-model-options="{ debounce : { 'default' : 300, blur : 0 } }"
                    ng-focus="clearValidation()">
                </div>

                <div ng-messages="newUser.password1.$error" ng-show="newUser.$submitted" class="admin-alerts pull-right col-lg-9">
                  <div class="message" ng-message="required"><alert type="danger">Please enter a password</alert></div>
                </div>

              </div>

              <div class="form-group">
                <label for="password2" class="col-lg-3 control-label">Confirm Password</label>
                <div class="user-field col-lg-9">
                  <input
                    type="password"
                    class="form-control input-sm"
                    id="password2"
                    name="password2"
                    ng-model="user.password2"
                    ng-required="true"
                    password-match-validator
                    ng-model-options="{ debounce : { 'default' : 300, blur : 0 } }">
                </div>

                <div ng-messages="newUser.password2.$error" ng-show="newUser.$submitted" class="admin-alerts pull-right col-lg-9">
                  <div class="message" ng-message="required"><alert type="danger">Please enter a confirmation password</alert></div>
                  <div class="message" ng-message="password-match"><alert type="danger">Passwords do not match</alert></div>
                </div>

              </div>

                <div class="col-lg-9 pull-right">
                  <div class="row">
                    <div class="pull-right">
                      <button id="singlebutton" name="singlebutton" class="btn btn-primary">Add User</button>
                    </div>

                    <div ng-show="error" class="admin-alerts pull-left col-lg-9">
                      <div class="message"><alert type="danger">Could not create a new user</alert></div>
                    </div>

                  </div>
                </div>

            </fieldset>
          </form>

        </div>
      </div>
    </div>
  </div>
</div>
